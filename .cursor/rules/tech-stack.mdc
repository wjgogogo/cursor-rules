---
description: 
globs: 
alwaysApply: true
---
# æŠ€æœ¯æ ˆé€‰å‹è§„èŒƒ

## æ ¸å¿ƒæŠ€æœ¯æ ˆ

ã€å¿…é¡»ã€‘ä½¿ç”¨ç°ä»£ç¨³å®šæŠ€æœ¯ï¼š
- **æ¡†æ¶**: React 18+ + TypeScript 5+
- **æ ·å¼**: Tailwind CSS + shadcn/ui
- **çŠ¶æ€ç®¡ç†**: Zustandï¼ˆæ¨èï¼‰/ React Context
- **è·¯ç”±**: React Router 6+
- **æ„å»º**: Vite 5+
- **è¿è¡Œæ—¶**: Node.js 18+ LTS

## çŠ¶æ€ç®¡ç†é€‰æ‹©

ã€å¿…é¡»ã€‘æ ¹æ®é¡¹ç›®è§„æ¨¡é€‰æ‹©ï¼š

```tsx
// âœ… å°å‹é¡¹ç›® - React Context
const AppContext = createContext<AppState | null>(null);

function useAppState() {
  const context = useContext(AppContext);
  if (!context) {
    throw new Error('useAppState must be used within AppProvider');
  }
  return context;
}

// âœ… ä¸­å¤§å‹é¡¹ç›® - Zustand
import { create } from 'zustand';

interface AppState {
  user: User | null;
  theme: 'light' | 'dark';
  setUser: (user: User | null) => void;
  setTheme: (theme: 'light' | 'dark') => void;
}

const useAppStore = create<AppState>((set) => ({
  user: null,
  theme: 'light',
  setUser: (user) => set({ user }),
  setTheme: (theme) => set({ theme }),
}));
```

## UI ç»„ä»¶åº“

ã€å¿…é¡»ã€‘ä½¿ç”¨ shadcn/ui + Tailwindï¼š

```tsx
import { Button } from "@/components/ui/button";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Input } from "@/components/ui/input";

// âœ… æ­£ç¡® - UI ç»„ä»¶ä½¿ç”¨
function UserForm({ onSubmit }: { onSubmit: (data: UserData) => void }) {
  return (
    <Card className="w-full max-w-md mx-auto">
      <CardHeader>
        <CardTitle>ç”¨æˆ·ä¿¡æ¯</CardTitle>
      </CardHeader>
      <CardContent className="space-y-4">
        <Input 
          placeholder="ç”¨æˆ·å" 
          className="w-full"
        />
        <Input 
          type="email" 
          placeholder="é‚®ç®±" 
          className="w-full"
        />
        <Button 
          onClick={() => onSubmit(formData)} 
          className="w-full"
        >
          ä¿å­˜
        </Button>
      </CardContent>
    </Card>
  );
}
```

## è¡¨å•å’ŒéªŒè¯

ã€å¿…é¡»ã€‘ä½¿ç”¨ React Hook Form + Zodï¼š

```tsx
import { useForm } from 'react-hook-form';
import { zodResolver } from '@hookform/resolvers/zod';
import { z } from 'zod';

// âœ… æ­£ç¡® - è¡¨å•éªŒè¯
const userSchema = z.object({
  name: z.string().min(1, 'å§“åä¸èƒ½ä¸ºç©º'),
  email: z.string().email('é‚®ç®±æ ¼å¼ä¸æ­£ç¡®'),
  age: z.number().min(18, 'å¹´é¾„å¿…é¡»å¤§äº18å²'),
});

type UserFormData = z.infer<typeof userSchema>;

function UserForm() {
  const form = useForm<UserFormData>({
    resolver: zodResolver(userSchema),
    defaultValues: {
      name: '',
      email: '',
      age: 18,
    },
  });

  const onSubmit = (data: UserFormData) => {
    console.log('Valid data:', data);
  };

  return (
    <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-4">
      <Input
        {...form.register('name')}
        placeholder="å§“å"
        className={form.formState.errors.name ? 'border-red-500' : ''}
      />
      {form.formState.errors.name && (
        <p className="text-red-500 text-sm">{form.formState.errors.name.message}</p>
      )}
      
      <Input
        {...form.register('email')}
        type="email"
        placeholder="é‚®ç®±"
        className={form.formState.errors.email ? 'border-red-500' : ''}
      />
      {form.formState.errors.email && (
        <p className="text-red-500 text-sm">{form.formState.errors.email.message}</p>
      )}
      
      <Button type="submit" disabled={form.formState.isSubmitting}>
        {form.formState.isSubmitting ? 'æäº¤ä¸­...' : 'æäº¤'}
      </Button>
    </form>
  );
}
```

## æµ‹è¯•é…ç½®

ã€æ¨èã€‘åŸºç¡€æµ‹è¯•è®¾ç½®ï¼š

```tsx
// âœ… ç»„ä»¶æµ‹è¯•ç¤ºä¾‹
import { render, screen, fireEvent } from '@testing-library/react';
import { describe, it, expect, vi } from 'vitest';
import { Button } from '@/components/ui/button';

describe('Button Component', () => {
  it('renders correctly', () => {
    render(<Button>Click me</Button>);
    expect(screen.getByRole('button')).toHaveTextContent('Click me');
  });

  it('calls onClick when clicked', () => {
    const handleClick = vi.fn();
    render(<Button onClick={handleClick}>Click me</Button>);
    
    fireEvent.click(screen.getByRole('button'));
    expect(handleClick).toHaveBeenCalledTimes(1);
  });
});
```

## è·¯ç”±ç®¡ç†

ã€å¿…é¡»ã€‘ä½¿ç”¨ React Routerï¼š

```tsx
import { createBrowserRouter, RouterProvider, Outlet } from 'react-router-dom';

// âœ… æ­£ç¡® - è·¯ç”±é…ç½®
const router = createBrowserRouter([
  {
    path: '/',
    element: <Layout />,
    children: [
      {
        index: true,
        element: <HomePage />,
      },
      {
        path: 'users',
        element: <UsersPage />,
      },
      {
        path: 'users/:id',
        element: <UserDetailPage />,
      },
    ],
  },
  {
    path: '/login',
    element: <LoginPage />,
  },
]);

function App() {
  return <RouterProvider router={router} />;
}

function Layout() {
  return (
    <div>
      <nav>{/* å¯¼èˆªæ  */}</nav>
      <main>
        <Outlet />
      </main>
    </div>
  );
}
```

## ç¯å¢ƒé…ç½®

ã€å¿…é¡»ã€‘æ­£ç¡®é…ç½®ç¯å¢ƒï¼š

```bash
# .env.local
VITE_API_URL=http://localhost:3001/api
VITE_APP_NAME=My App

# .env.production
VITE_API_URL=https://api.myapp.com
VITE_APP_NAME=My App
```

```tsx
// âœ… æ­£ç¡® - ç¯å¢ƒå˜é‡ä½¿ç”¨
const config = {
  apiUrl: import.meta.env.VITE_API_URL,
  appName: import.meta.env.VITE_APP_NAME,
  isDev: import.meta.env.DEV,
  isProd: import.meta.env.PROD,
};

export default config;
```

## é€‰å‹åŸåˆ™

ã€å¿…é¡»ã€‘ä¼˜å…ˆè€ƒè™‘ï¼š
1. **ç¨³å®šæ€§**ï¼šé€‰æ‹©æˆç†Ÿç¨³å®šçš„æŠ€æœ¯
2. **ç”Ÿæ€ç³»ç»Ÿ**ï¼šæœ‰æ´»è·ƒç¤¾åŒºå’Œå®Œå–„æ–‡æ¡£
3. **å›¢é˜Ÿç†Ÿæ‚‰åº¦**ï¼šå›¢é˜Ÿèƒ½å¤Ÿå¿«é€Ÿä¸Šæ‰‹
4. **ç»´æŠ¤æˆæœ¬**ï¼šé•¿æœŸç»´æŠ¤å’Œå‡çº§çš„å¤æ‚åº¦

## ğŸ” æ£€æŸ¥æ¸…å•

åœ¨é¡¹ç›®å¯åŠ¨ã€æŠ€æœ¯é€‰å‹å†³ç­–æˆ–é‡è¦å‡çº§æ—¶ï¼Œã€å¿…é¡»ã€‘å¯¹ç…§æ£€æŸ¥ä»¥ä¸‹æŠ€æœ¯æ ˆè¦ç´ æ˜¯å¦ç¬¦åˆè§„èŒƒï¼š

### æ ¸å¿ƒæŠ€æœ¯æ ˆ [P0]
- [ ] **[P0]** æ¡†æ¶ä¸è¯­è¨€ï¼šé¡¹ç›®æ˜¯å¦åŸºäº `React 18+` å’Œ `TypeScript 5+` æ„å»ºï¼Ÿ
- [ ] **[P0]** æ„å»ºå·¥å…·ï¼šæ˜¯å¦ä½¿ç”¨ `Vite 5+` ä½œä¸ºé¡¹ç›®æ„å»ºå·¥å…·ï¼Ÿ
- [ ] **[P0]** è¿è¡Œæ—¶ç¯å¢ƒï¼šåç«¯æˆ–å¼€å‘ç¯å¢ƒæ˜¯å¦ä¾èµ– `Node.js 18+ LTS` ç‰ˆæœ¬ï¼Ÿ

### UI ä¸æ ·å¼ [P0]
- [ ] **[P0]** UI ç»„ä»¶åº“ï¼šæ˜¯å¦ä»¥ `shadcn/ui` ä½œä¸ºåŸºç¡€ UI ç»„ä»¶åº“ï¼Ÿ
- [ ] **[P0]** æ ·å¼æ–¹æ¡ˆï¼šæ˜¯å¦ä¸»è¦ä½¿ç”¨ `Tailwind CSS` è¿›è¡Œæ ·å¼å¼€å‘ï¼Œå¹¶éµå¾ª `styling-standards.mdc`ï¼Ÿ

### çŠ¶æ€ç®¡ç† [P0]
- [ ] **[P0]** çŠ¶æ€ç®¡ç†æ–¹æ¡ˆï¼šæ˜¯å¦æ ¹æ®é¡¹ç›®è§„æ¨¡å’Œå¤æ‚åº¦ï¼Œåˆç†é€‰æ‹©äº†çŠ¶æ€ç®¡ç†æ–¹æ¡ˆï¼ˆå¦‚ Zustand æ¨èç”¨äºä¸­å¤§å‹é¡¹ç›®ï¼ŒReact Context å¯ç”¨äºå°å‹æˆ–å±€éƒ¨çŠ¶æ€ï¼‰ï¼Ÿ

### è¡¨å•ä¸æ•°æ®æ ¡éªŒ [P0]
- [ ] **[P0]** è¡¨å•å¤„ç†ï¼šæ˜¯å¦ä½¿ç”¨ `React Hook Form` è¿›è¡Œè¡¨å•çŠ¶æ€ç®¡ç†å’Œæäº¤å¤„ç†ï¼Ÿ
- [ ] **[P0]** æ•°æ®æ ¡éªŒï¼šæ˜¯å¦ä½¿ç”¨ `Zod` å®šä¹‰æ•°æ®ç»“æ„å’Œæ ¡éªŒè§„åˆ™ï¼Œå¹¶ä¸ React Hook Form é›†æˆ (`zodResolver`)ï¼Ÿ

### è·¯ç”±ç®¡ç† [P0]
- [ ] **[P0]** è·¯ç”±æ–¹æ¡ˆï¼šå‰ç«¯è·¯ç”±æ˜¯å¦ä½¿ç”¨ `React Router 6+` å®ç°ï¼Ÿ

### æ•°æ®è·å–ä¸ç¼“å­˜ [P1]
- [ ] **[P1]** æœåŠ¡å™¨çŠ¶æ€ç®¡ç†ï¼ˆæ¨èï¼‰ï¼šå¯¹äºä¸åç«¯ API çš„æ•°æ®äº¤äº’å’Œç¼“å­˜ï¼Œæ˜¯å¦è€ƒè™‘æˆ–ä½¿ç”¨äº† `TanStack Query (React Query)`ï¼Ÿ

### æµ‹è¯•ä¸ä»£ç è´¨é‡ [P1]
- [ ] **[P1]** æµ‹è¯•æ¡†æ¶ï¼ˆæ¨èï¼‰ï¼šæ˜¯å¦é…ç½®äº† `Vitest` ä½œä¸ºæµ‹è¯•è¿è¡Œå™¨å’Œ `React Testing Library` ç”¨äºç»„ä»¶æµ‹è¯•ï¼Ÿï¼ˆè¯¦ç»†å‚è€ƒ `testing-standards.mdc`ï¼‰
- [ ] **[P1]** ä»£ç è§„èŒƒå·¥å…·ï¼šé¡¹ç›®ä¸­æ˜¯å¦å·²é…ç½®å¹¶å¯ç”¨äº† `ESLint` å’Œ `Prettier` ä»¥ä¿è¯ä»£ç è´¨é‡å’Œé£æ ¼ä¸€è‡´æ€§ï¼Ÿ

### ç¯å¢ƒé…ç½® [P0]
- [ ] **[P0]** ç¯å¢ƒå˜é‡ï¼šé¡¹ç›®æ˜¯å¦ä½¿ç”¨äº† `.env` æ–‡ä»¶ (å¦‚ `.env.local`, `.env.production`) æ¥ç®¡ç†ä¸åŒç¯å¢ƒçš„é…ç½®ï¼ˆå¦‚ API åœ°å€ã€åº”ç”¨åç§°ï¼‰ï¼Œå¹¶é€šè¿‡ `import.meta.env` (Vite) æ­£ç¡®è®¿é—®ï¼Ÿ
