---
description: 
globs: *.js,*.jsx,*.ts,*.tsx
alwaysApply: false
---
# æ¨¡å—å¯¼å‡ºè§„èŒƒ

## æ ¸å¿ƒåŸåˆ™

ã€å¿…é¡»ã€‘éµå¾ªï¼š
- **ä¼˜å…ˆä½¿ç”¨å‘½åå¯¼å‡º**ï¼Œé¿å…é»˜è®¤å¯¼å‡º
- ä¸ºå¤æ‚æ¨¡å—åˆ›å»ºç´¢å¼•æ–‡ä»¶
- é¿å…å¾ªç¯ä¾èµ–

## å¯¼å‡ºæ–¹å¼

ã€å¿…é¡»ã€‘ä½¿ç”¨å‘½åå¯¼å‡ºï¼š

```tsx
// âœ… æ­£ç¡® - å‘½åå¯¼å‡º
export interface ButtonProps {
  variant: 'primary' | 'secondary';
  children: React.ReactNode;
}

export function Button({ variant, children }: ButtonProps) {
  return <button className={variant}>{children}</button>;
}

// âŒ é”™è¯¯ - é»˜è®¤å¯¼å‡º
export default function Button() {
  // é¿å…ä½¿ç”¨
}
```

## ç±»å‹å’Œå€¼åˆ†ç¦»

ã€å¿…é¡»ã€‘æ¸…æ™°åŒºåˆ†ç±»å‹å’Œå€¼ï¼š

```tsx
// âœ… æ­£ç¡® - ç±»å‹å¯¼å‡º
export interface User {
  id: string;
  name: string;
  email: string;
}

export type UserRole = 'admin' | 'user' | 'guest';

// âœ… æ­£ç¡® - å‡½æ•°å¯¼å‡º
export function createUser(userData: User): Promise<User> {
  return fetch('/api/users', {
    method: 'POST',
    body: JSON.stringify(userData),
  }).then(res => res.json());
}

export function validateUser(user: User): boolean {
  return user.name.length > 0 && user.email.includes('@');
}
```

## ç´¢å¼•æ–‡ä»¶ç»„ç»‡

ã€æ¨èã€‘æŒ‰åŠŸèƒ½åˆ†ç»„å¯¼å‡ºï¼š

```tsx
// âœ… æ­£ç¡® - components/index.ts
// UI ç»„ä»¶
export { Button } from './Button';
export { Input } from './Input';
export { Modal } from './Modal';

// ç±»å‹å¯¼å‡º
export type { ButtonProps } from './Button';
export type { InputProps } from './Input';
export type { ModalProps } from './Modal';

// âœ… æ­£ç¡® - utils/index.ts
export { formatDate, parseDate } from './date';
export { validateEmail, validatePhone } from './validation';
export { debounce, throttle } from './timing';
```

## å¯¼å…¥è§„èŒƒ

ã€å¿…é¡»ã€‘æŒ‰æ¥æºåˆ†ç»„å¯¼å…¥ï¼š

```tsx
// âœ… æ­£ç¡® - å¯¼å…¥é¡ºåº
// 1. React ç›¸å…³
import { useState, useEffect } from 'react';
import type { FC, ReactNode } from 'react';

// 2. ç¬¬ä¸‰æ–¹åº“
import { clsx } from 'clsx';
import { z } from 'zod';

// 3. å†…éƒ¨æ¨¡å—ï¼ˆç»å¯¹è·¯å¾„ï¼‰
import { Button, Input } from '@/components';
import { useAuth } from '@/hooks';
import type { User, ApiResponse } from '@/types';

// 4. ç›¸å¯¹å¯¼å…¥
import { validateForm } from '../utils';
import type { FormData } from './types';
```

## é¿å…å¾ªç¯ä¾èµ–

ã€å¿…é¡»ã€‘ä½¿ç”¨å…±äº«ç±»å‹æ–‡ä»¶ï¼š

```tsx
// âœ… æ­£ç¡® - types/index.ts
export interface User {
  id: string;
  name: string;
  email: string;
}

export interface Product {
  id: string;
  name: string;
  price: number;
}

// âœ… æ­£ç¡® - services/userService.ts
import type { User } from '@/types';

export function fetchUser(id: string): Promise<User> {
  return fetch(`/api/users/${id}`).then(res => res.json());
}

// âœ… æ­£ç¡® - components/UserCard.tsx
import type { User } from '@/types';

export function UserCard({ user }: { user: User }) {
  return (
    <div>
      <h3>{user.name}</h3>
      <p>{user.email}</p>
    </div>
  );
}
```

## å®ç”¨æ¨¡å¼

ã€æ¨èã€‘å¸¸ç”¨çš„å¯¼å‡ºæ¨¡å¼ï¼š

```tsx
// âœ… æ‰¹é‡é‡å¯¼å‡º
export { Button, Input, Modal } from './components';
export type { ButtonProps, InputProps, ModalProps } from './components';

// âœ… å‘½åç©ºé—´å¯¼å‡º
export * as UserAPI from './api/user';
export * as ProductAPI from './api/product';

// âœ… æ¡ä»¶å¯¼å‡º
export { DevTools } from './dev-tools';
// åœ¨ index.ts ä¸­
export * from './core';
if (process.env.NODE_ENV === 'development') {
  export * from './dev-tools';
}
```

## ğŸ” æ£€æŸ¥æ¸…å•

åœ¨å®šä¹‰æˆ–å®¡æŸ¥æ¨¡å—å¯¼å‡ºå’Œå¯¼å…¥æ—¶ï¼Œã€å¿…é¡»ã€‘æˆ–ã€æ¨èã€‘ç¡®è®¤ä»¥ä¸‹å„é¡¹ï¼š

- [ ] **[P0]** å‘½åå¯¼å‡ºä¼˜å…ˆï¼šæ¨¡å—ä¸­çš„æ‰€æœ‰å¯¼å‡ºï¼ˆç»„ä»¶ã€å‡½æ•°ã€å¸¸é‡ã€ç±»å‹ç­‰ï¼‰æ˜¯å¦éƒ½ä½¿ç”¨äº†å‘½åå¯¼å‡º (`export const ...`, `export function ...`, `export interface ...`)ï¼Œå¹¶é¿å…äº†é»˜è®¤å¯¼å‡º (`export default ...`)ï¼Ÿ
- [ ] **[P0]** ç±»å‹ä¸å€¼åˆ†ç¦»ï¼šç±»å‹å¯¼å‡º (å¦‚ `export interface User`, `export type UserRole`) å’Œè¿è¡Œæ—¶å€¼å¯¼å‡º (å¦‚ `export function createUser`) æ˜¯å¦æ¸…æ™°åˆ†ç¦»ï¼Œæ˜“äºåŒºåˆ†ï¼Ÿ
- [ ] **[P0]** å¯¼å…¥é¡ºåºä¸åˆ†ç»„ï¼šæ¨¡å—å†…çš„ `import` è¯­å¥æ˜¯å¦æŒ‰ç…§è§„èŒƒçš„é¡ºåºï¼ˆReact ç›¸å…³ â†’ ç¬¬ä¸‰æ–¹åº“ â†’ å†…éƒ¨æ¨¡å—ç»å¯¹è·¯å¾„ â†’ ç›¸å¯¹è·¯å¾„ï¼‰ç»„ç»‡å’Œåˆ†ç»„ï¼Ÿ
- [ ] **[P0]** å¾ªç¯ä¾èµ–é¿å…ï¼šæ˜¯å¦é€šè¿‡åˆç†çš„æ¨¡å—ç»„ç»‡ï¼ˆå¦‚ä½¿ç”¨å…±äº«ç±»å‹æ–‡ä»¶ `@/types`ï¼‰ä¸»åŠ¨é¿å…äº†æ¨¡å—é—´çš„å¾ªç¯ä¾èµ–é—®é¢˜ï¼Ÿ
- [ ] **[P1]** ç´¢å¼•æ–‡ä»¶ç»„ç»‡ (`index.ts`)ï¼šå¯¹äºåŒ…å«å¤šä¸ªç›¸å…³ç»„ä»¶æˆ–å·¥å…·å‡½æ•°çš„ç›®å½•ï¼ˆå¦‚ `components/`, `utils/`ï¼‰ï¼Œæ˜¯å¦ä½¿ç”¨äº† `index.ts` æ–‡ä»¶æ¥ç»Ÿä¸€ç»„ç»‡å’Œå¯¼å‡ºæ¨¡å—ï¼Œæ–¹ä¾¿å¤–éƒ¨å¯¼å…¥ï¼Ÿ
- [ ] **[P1]** å¯¼å…¥è·¯å¾„ä¸€è‡´æ€§ï¼šé¡¹ç›®ä¸­å¯¼å…¥æ¨¡å—æ—¶ï¼Œæ˜¯å¦ä½¿ç”¨äº†ç»Ÿä¸€çš„è·¯å¾„çº¦å®šï¼ˆä¾‹å¦‚ï¼Œä¼˜å…ˆä½¿ç”¨ `@/` ç±»ä¼¼çš„ç»å¯¹è·¯å¾„åˆ«åï¼Œç‰¹å®šæƒ…å†µä¸‹ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼‰ï¼Ÿ
- [ ] **[P1]** å®ç”¨å¯¼å‡ºæ¨¡å¼ï¼ˆå¦‚é€‚ç”¨ï¼‰ï¼šæ˜¯å¦æ ¹æ®éœ€è¦åˆç†è¿ç”¨äº†æ‰¹é‡é‡å¯¼å‡ºã€å‘½åç©ºé—´å¯¼å‡º (`export * as ...`) æˆ–æ¡ä»¶å¯¼å‡ºç­‰é«˜çº§æ¨¡å¼ï¼Ÿ
